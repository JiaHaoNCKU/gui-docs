
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Modifying the host application &#8212; Open Ephys GUI Docs</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorials" href="../Tutorials/index.html" />
    <link rel="prev" title="Distributing plugins" href="Distributing-plugins.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
    <img src="../_static/oe_logo_gui.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/oe_logo_gui.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../User-Manual/index.html">
                        User Manual
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="index.html">
                        Developer Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../Tutorials/index.html">
                        Tutorials
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../FAQ/index.html">
                        FAQs
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../User-Manual/index.html">
                        User Manual
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="index.html">
                        Developer Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../Tutorials/index.html">
                        Tutorials
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../FAQ/index.html">
                        FAQs
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Compiling-the-GUI.html">Compiling the GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Compiling-plugins.html">Compiling plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="Creating-a-new-plugin.html">Creating a new plugin</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Open-Ephys-Plugin-API/index.html">Open Ephys Plugin API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Open-Ephys-Plugin-API/Processor-Plugins.html">Processor Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Open-Ephys-Plugin-API/Visualizer-Plugins.html">Visualizer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Open-Ephys-Plugin-API/Data-Threads.html">Data Threads</a></li>
<li class="toctree-l2"><a class="reference internal" href="Open-Ephys-Plugin-API/Record-Engines.html">Record Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="Open-Ephys-Plugin-API/File-Sources.html">File Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Distributing-plugins.html">Distributing plugins</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Modifying the host application</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="modifying-the-host-application">
<span id="modifyingthehostapplication"></span><h1>Modifying the host application<a class="headerlink" href="#modifying-the-host-application" title="Permalink to this heading">#</a></h1>
<p>We welcome contributions to the main <a class="reference external" href="https://github.com/open-ephys/plugin-GUI">plugin-GUI repository</a>, but these may require a bit more prior knowledge than building or modifying plugins. This page aims to provide a high-level overview of the GUI’s code base. However, if you’d like to make changes more substantial than a minor bug fix, we strong recommend <a class="reference external" href="https://github.com/open-ephys/plugin-GUI/issues">submitting an issue on GitHub</a> describing your plans, so the Open Ephys core team can help guide you in the right direction.</p>
<section id="recommended-workflow">
<h2>Recommended workflow<a class="headerlink" href="#recommended-workflow" title="Permalink to this heading">#</a></h2>
<p>If you’re planning to update the host application, or any of the plugins in the <a class="reference external" href="https://github.com/open-ephys/plugin-GUI">plugin-GUI repository</a>, we encourage you to follow these steps:</p>
<ol class="arabic simple">
<li><p>Fork the <a class="reference external" href="https://github.com/open-ephys/plugin-GUI">GUI’s GitHub repository</a> to your own account.</p></li>
<li><p>Clone the fork via the <a class="reference external" href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository#cloning-a-repository-using-the-command-line">command line</a> or the <a class="reference external" href="https://desktop.github.com/">GitHub Desktop app</a>.</p></li>
<li><p>Compile the GUI for your platform of choice according to the steps on <a class="reference internal" href="Compiling-the-GUI.html#compilingthegui"><span class="std std-ref">this page</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/open-ephys/plugin-GUI/issues">Open an issue</a> describing the changes you’d like to make, whether it’s fixing a bug or adding a new feature. This will ensure that we avoid any redundant development efforts.</p></li>
<li><p>Create a new branch for your changes based on the <strong>main</strong> branch: <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;newbranchname&gt;</span></code></p></li>
<li><p>Make your changes (and ensure that the GUI successfully compiles).</p></li>
<li><p>Push your changes to GitHub: <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-u</span> <span class="pre">origin</span> <span class="pre">&lt;newbranchname&gt;</span></code></p></li>
<li><p>Open a pull request against the <strong>development</strong> branch of the main GUI repository.</p></li>
</ol>
<p>If your changes look good, they will be merged and included in the next release!</p>
</section>
<section id="code-organization">
<h2>Code organization<a class="headerlink" href="#code-organization" title="Permalink to this heading">#</a></h2>
<p>The top-level directory of the <a class="reference external" href="https://github.com/open-ephys/plugin-GUI">plugin-GUI repository</a> contains the following folders:</p>
<ul class="simple">
<li><p><strong>.github</strong> - GitHub Actions scripts for building the GUI on Linux, macOS, and Windows. Whenever the code is updated in the <strong>testing</strong> or <strong>master</strong> branches, these scripts will automatically regenerate the GUI’s binaries and upload them to <a class="reference external" href="https://openephysgui.jfrog.io/ui/packages">Artifactory</a>.</p></li>
<li><p><strong>Build</strong> - empty directory where platform-specific build files will be located. Any files that end up in this directory will not be included in your git commits.</p></li>
<li><p><strong>JuceLibraryCode</strong> - a customized version of the source code for the <a class="reference external" href="https://juce.com/">Juce Library</a>. The Open Ephys GUI uses this library for a wide variety of functions, including drawing the user interface, real-time data processing, threading, and file I/O.</p></li>
<li><p><strong>Plugins</strong> - source code for plugins that are included by default with the host application.</p></li>
<li><p><strong>Resources</strong> - includes a variety of useful resources, including sample data files, scripts, and libraries used by the GUI.</p></li>
<li><p><strong>Source</strong> - the source code for the host application. The key classes are described below.</p></li>
</ul>
</section>
<section id="program-structure">
<h2>Program structure<a class="headerlink" href="#program-structure" title="Permalink to this heading">#</a></h2>
<p>This diagram showcases how key C++ classes interact within the host application:</p>
<img alt="Image of the GUI's internal structure" src="../_images/data-flow-01.png" />
<ul class="simple">
<li><p><em>Solid black arrows</em> denote ownership: which objects are responsible for creating and destroying other objects?</p></li>
<li><p><em>Dashed black arrows</em> indicate the precisely timed callbacks that drive data acquisition.</p></li>
<li><p><em>Red arrows</em> show how data flows through the application. All of the data processing takes place within the <strong>ProcessorGraph</strong>, but may leave the graph to be stored to disk by the <strong>RecordNode</strong>, sent to audio monitors by the <strong>AudioNode</strong>, or visualized within the <strong>DataViewport</strong>.</p></li>
<li><p><em>Orange arrows</em> denote the essential message-passing interactions. The messages sent between the <strong>EditorViewport</strong> and the <strong>ProcessorGraph</strong> are especially important, as they are responsible for constructing and verifying the signal chain.</p></li>
</ul>
<section id="core-application-classes">
<h3>Core application classes<a class="headerlink" href="#core-application-classes" title="Permalink to this heading">#</a></h3>
<p>When the application starts, the first object created is an <strong>OpenEphysApplication</strong>, which is derived from the <code class="code docutils literal notranslate"><span class="pre">JUCEApplication</span></code> class. This object initializes the application and owns the <strong>MainWindow</strong>, but doesn’t do much else. When the <strong>MainWindow</strong> is created, it creates the three central objects of the application: the <strong>UIComponent</strong>, the <strong>AudioComponent</strong>, and the <strong>ProcessorGraph</strong>.</p>
<ul class="simple">
<li><p>The <strong>UIComponent</strong> owns all of the objects the user can interact with directly. Editing the <strong>ProcessorGraph</strong>, starting and stopping acquisition, and receiving updates about the application’s state is all handled by objects created by the <strong>UIComponent</strong>. It is derived from Juce’s <code class="code docutils literal notranslate"><span class="pre">Component</span></code> class</p></li>
<li><p>The <strong>AudioComponent</strong> communicates with the computer’s audio card, which drives the callbacks to the <strong>ProcessorGraph</strong> and enables audio monitoring of incoming data. It is derived from Juce’s <code class="code docutils literal notranslate"><span class="pre">AudioDeviceManager</span></code> class.</p></li>
<li><p>The <strong>ProcessorGraph</strong> stores information about the signal chain and ensure that data is processed efficiently. It is derived from Juce’s <code class="code docutils literal notranslate"><span class="pre">AudioProcessorGraph</span></code> class.</p></li>
</ul>
</section>
<section id="user-interface-classes">
<h3>User interface classes<a class="headerlink" href="#user-interface-classes" title="Permalink to this heading">#</a></h3>
<p>The <strong>UIComponent</strong> has five main regions, each of which is an object that it is responsible for creating and destroying:</p>
<ul class="simple">
<li><p>The <strong>ControlPanel</strong> occupies the top of the application window. It contains a CPU usage meter, a disk space meter, a play button, and a record button. It also own the <strong>Clock</strong>, which displays the total time spent acquiring or recording data.</p></li>
<li><p>The <strong>ProcessorList</strong> sits on the left-hand side of the application window and contains a list of all the available modules for creating and processing data. Modules are selected from the list and dragged onto the <strong>EditorViewport</strong> to construct the signal chain. The <strong>ProcessorList</strong> can be collapsed to provide additional room for data visualization once the signal chain is in place.</p></li>
<li><p>The <strong>EditorViewport</strong>, near the bottom of the application window, displays the editors for all of the monitors currently in the signal chain. The editors provide a graphical interface for modifying the parameters of each module. Once they’re inside the <strong>EditorViewport</strong>, editors can be dragged and dropped to change their ordering within a signal chain, but only if acquisition is paused.</p></li>
<li><p>The <strong>MessageCenter</strong> lives at the bottom of the application window and displays messages that are relevant to the user. Most of these messages currently originate in the <strong>ProcessorGraph</strong>, but they could come from almost any object within the program.</p></li>
<li><p>The <strong>DataViewport</strong> contains tabs for different types of visualizers. Whenever a plugin with a visualizer is added to the signal chain, it can either claim a tab within the <strong>DataViewport</strong> or place its display in a separate window. This affords the GUI incredible flexibility. In a setup with multiple monitors, each visualizer can occupy a separate window on its own screen. If the GUI is being used on a laptop, all of the visualizers are organized into easy-to-find tabs.</p></li>
</ul>
</section>
<section id="the-processor-graph">
<h3>The processor graph<a class="headerlink" href="#the-processor-graph" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>The <strong>ProcessorGraph</strong> manages user-defined data processing pipelines composed of different combinations of plugins. All of the modules that create the <strong>ProcessorGraph</strong> are derived from a custom <strong>GenericProcessor</strong> class.</p></li>
</ul>
<p>There are five main types of plugins that can be placed in the ProcessorGraph:</p>
<ul class="simple">
<li><p><strong>Sources</strong> feed data into the graph. They can only have outputs, never inputs. Every valid signal chain must have at least one source.</p></li>
<li><p><strong>Filters</strong> modify the data they receive. They can be as simple as bandpass filters or resamplers, or more complex spike detectors or ripple/spindle detectors. Filters can process continuous signals or discrete events.</p></li>
<li><p><strong>Sinks</strong> send data outside of the signal chain, but do not modify the underlying data stream. Examples of sinks include graphical displays, network streams, or plugins that communicate with digital output hardware (such as Arduinos).</p></li>
<li><p><strong>Utilities</strong> perform specialized functions such as merging or splitting signal chains, or starting/stopping recording based on digital inputs.</p></li>
<li><p><strong>Record Nodes</strong> write incoming data to disk in a format specified by the currently loaded <strong>RecordEngine</strong>. It’s possible to use multiple Record Nodes in a single signal chain, in order to record data at different processing stages.</p></li>
</ul>
<p>In addition to the user-defined signal chain, one module is created by default:</p>
<ul class="simple">
<li><p>The <strong>AudioNode</strong> allows signals to be sent to the computer’s audio card, for purposes of audio monitoring. The last two channels of every <a class="reference internal" href="../User-Manual/Plugins/Audio-Monitor.html#audiomonitor"><span class="std std-ref">Audio Monitor</span></a> are automatically connected to the Audio Node.</p></li>
</ul>
</section>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="Distributing-plugins.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Distributing plugins</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="../Tutorials/index.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Tutorials</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recommended-workflow">
   Recommended workflow
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#code-organization">
   Code organization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#program-structure">
   Program structure
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#core-application-classes">
     Core application classes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#user-interface-classes">
     User interface classes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-processor-graph">
     The processor graph
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2010-2023, Open Ephys &amp; Contributors.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>