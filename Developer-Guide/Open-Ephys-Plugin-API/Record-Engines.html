
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Record Engines &#8212; Open Ephys GUI Docs</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="File Sources" href="File-Sources.html" />
    <link rel="prev" title="Data Threads" href="Data-Threads.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/oe_logo_gui.svg" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/oe_logo_gui.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../../User-Manual/index.html">
                        User Manual
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../index.html">
                        Developer Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../Tutorials/index.html">
                        Tutorials
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../FAQ/index.html">
                        FAQs
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../../User-Manual/index.html">
                        User Manual
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../index.html">
                        Developer Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../Tutorials/index.html">
                        Tutorials
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../FAQ/index.html">
                        FAQs
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Compiling-the-GUI.html">Compiling the GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Compiling-plugins.html">Compiling plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Creating-a-new-plugin.html">Creating a new plugin</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Open Ephys Plugin API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Processor-Plugins.html">Processor Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Visualizer-Plugins.html">Visualizer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Data-Threads.html">Data Threads</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Record Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="File-Sources.html">File Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Distributing-plugins.html">Distributing plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Modifying-the-host-application.html">Modifying the host application</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="record-engines">
<span id="recordengines"></span><h1>Record Engines<a class="headerlink" href="#record-engines" title="Permalink to this heading">#</a></h1>
<table class="table" id="id1">
<caption><span class="caption-text">Record Engines define how continuous data, events, and spikes are written to disk.</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Type</em></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">Plugin::Type::RECORD_ENGINE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><em>Base Class</em></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">RecordEngine</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><em>Template</em></p></td>
<td><p><a class="github reference external" href="https://github.com/open-ephys-plugins/record-engine-template">open-ephys-plugins/record-engine-template</a></p></td>
</tr>
</tbody>
</table>
<p>In the Open Ephys GUI, data formats are defined within plugins, making it straightforward to add compatibility with alternate formats. By default, the GUI contains Record Engines for the <a class="reference internal" href="../../User-Manual/Recording-data/Binary-format.html#binaryformat"><span class="std std-ref">Binary Format</span></a>, while the <a class="reference internal" href="../../User-Manual/Recording-data/Open-Ephys-format.html#openephysformat"><span class="std std-ref">Open Ephys Format</span></a> and <a class="reference internal" href="../../User-Manual/Recording-data/NWB-format.html#nwbdataformat"><span class="std std-ref">NWB Format</span></a> can be added via the Plugin Installer.</p>
<p>To create a new Record Engine, start with the <a class="reference external" href="https://github.com/open-ephys-plugins/record-engine-template">Record Engine Template</a> and add code that implements the following methods:</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK11getEngineIdEv">
<span id="_CPPv3NK11getEngineIdEv"></span><span id="_CPPv2NK11getEngineIdEv"></span><span id="getEngineIdC"></span><span class="n"><span class="pre">String</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getEngineId</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK11getEngineIdEv" title="Permalink to this definition">#</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string that can be used to uniquely identify this record engine.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv49openFiles4Fileii">
<span id="_CPPv39openFiles4Fileii"></span><span id="_CPPv29openFiles4Fileii"></span><span id="openFiles__File.i.i"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">openFiles</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">File</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rootFolder</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">experimentNumber</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">recordingNumber</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49openFiles4Fileii" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Called when a new recording begins. The Record Engine should open all of the files it will need, as data writing will begin immediately after this method returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rootFolder</strong> – A Juce <code class="code docutils literal notranslate"><span class="pre">File</span></code> object that specifies where this Record Engine’s files will be stored.</p></li>
<li><p><strong>experimentNumber</strong> – The zero-based index of the current experiment. The experiment number is incremented every time acquisition is stopped (assuming at least one recording has taken place already).</p></li>
<li><p><strong>recordingNumber</strong> – The one-based index of the current recording. The recording number is incremented every time recording is stopped.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410closeFilesv">
<span id="_CPPv310closeFilesv"></span><span id="_CPPv210closeFilesv"></span><span id="closeFiles"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">closeFiles</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410closeFilesv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Called when a recording stops. The Record Engine should close all open files and perform all necessary cleanup operations inside this method.</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419writeContinuousDataiiPKfPKdi">
<span id="_CPPv319writeContinuousDataiiPKfPKdi"></span><span id="_CPPv219writeContinuousDataiiPKfPKdi"></span><span id="writeContinuousData__i.i.floatCP.doubleCP.i"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeContinuousData</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">writeChannel</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">realChannel</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dataBuffer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">timestampBuffer</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419writeContinuousDataiiPKfPKdi" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Called whenever a new block of continuous data for one channel is available for writing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>writeChannel</strong> – The index of the continuous channel relative to all actively recorded channels.</p></li>
<li><p><strong>realChannel</strong> – The index of the continuous channel relative to all channels processed by the Record Node.</p></li>
<li><p><strong>dataBuffer</strong> – A read-only buffer of continuous data samples.</p></li>
<li><p><strong>timestampABuffer</strong> – A real-only buffer of timestamps for each sample, in seconds relative to the start of recording.</p></li>
<li><p><strong>size</strong> – The total number of valid samples.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410writeEventiRK11EventPacket">
<span id="_CPPv310writeEventiRK11EventPacket"></span><span id="_CPPv210writeEventiRK11EventPacket"></span><span id="writeEvent__i.EventPacketCR"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeEvent</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">eventChannel</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">EventPacket</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">event</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410writeEventiRK11EventPacket" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Called whenever a new event is available for writing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eventChannel</strong> – The index of the event channel relative to all channels processed by the Record Node.</p></li>
<li><p><strong>event</strong> – An <code class="code docutils literal notranslate"><span class="pre">EventPacket</span></code> object containing the event sample number, timestamp, TTL line, and other relevant information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410writeSpikeiPK5Spike">
<span id="_CPPv310writeSpikeiPK5Spike"></span><span id="_CPPv210writeSpikeiPK5Spike"></span><span id="writeSpike__i.SpikeCP"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeSpike</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">electrodeIndex</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Spike</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">spike</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410writeSpikeiPK5Spike" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Called whenever a new spike is available for writing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eventChannel</strong> – The index of the electrode that generated this spike.</p></li>
<li><p><strong>event</strong> – A pointer to a <code class="code docutils literal notranslate"><span class="pre">Spike</span></code> object containing the spike sample number, timestamp, waveform, and sorted ID.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422writeTimestampSyncText6uint165int64f6String">
<span id="_CPPv322writeTimestampSyncText6uint165int64f6String"></span><span id="_CPPv222writeTimestampSyncText6uint165int64f6String"></span><span id="writeTimestampSyncText__uint16.int64.float.String"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeTimestampSyncText</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">streamId</span></span>, <span class="n"><span class="pre">int64</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sampleNumber</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sourceSampleRate</span></span>, <span class="n"><span class="pre">String</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">text</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422writeTimestampSyncText6uint165int64f6String" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Called once per incoming data stream at the start of each recording, in order to inform the Record Engine about the first sample number recorded by each data stream. Writing these values to disk is optional, but recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>streamId</strong> – The unique ID of the current data stream.</p></li>
<li><p><strong>sampleNumber</strong> – The first sample number that will be recorded by this stream.</p></li>
<li><p><strong>sourceSampleRate</strong> – The sample rate (in Hz) for this stream.</p></li>
<li><p><strong>text</strong> – A message with additional information about this stream.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="npy-files">
<h2>NPY Files<a class="headerlink" href="#npy-files" title="Permalink to this heading">#</a></h2>
<p>All Record Engines have access to a <code class="code docutils literal notranslate"><span class="pre">NpyFile</span></code> class that can be used to write data in <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.lib.format.html">NPY format</a>. NPY is a simple format intended for storing array data, and which is straightforward to read with both Python and Matlab.</p>
<p>To create a new NPY file, a Record Engine should use the following methods:</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv47NpyFile6String7NpyType">
<span id="_CPPv37NpyFile6String7NpyType"></span><span id="_CPPv27NpyFile6String7NpyType"></span><span id="NpyFile__String.NpyType"></span><span class="sig-name descname"><span class="n"><span class="pre">NpyFile</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">String</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">path</span></span>, <span class="n"><span class="pre">NpyType</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47NpyFile6String7NpyType" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Constructor for a 1-dimensional NPY file with a specified type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Absolute path to the file.</p></li>
<li><p><strong>type</strong> – The data type for this file. The available types are defined in <a class="reference external" href="https://github.com/open-ephys/plugin-GUI/blob/main/Source/Processors/Settings/Metadata.h">Metadata.h</a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Here are some usage examples for common data types:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">NpyFile</span><span class="o">*</span><span class="w"> </span><span class="n">integerFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NpyFile</span><span class="p">(</span><span class="s">&quot;/path/to/file1.npy&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NpyType</span><span class="p">(</span><span class="n">BaseType</span><span class="o">::</span><span class="n">INT16</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"></span>
<span class="n">NpyFile</span><span class="o">*</span><span class="w"> </span><span class="n">floatFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NpyFile</span><span class="p">(</span><span class="s">&quot;/path/to/file2.npy&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NpyType</span><span class="p">(</span><span class="n">BaseType</span><span class="o">::</span><span class="n">FLOAT</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"></span>
</pre></div>
</div>
<p>Once the file has been opened, data can be written using the following methods:</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv49writeDataPKv6size_t">
<span id="_CPPv39writeDataPKv6size_t"></span><span id="_CPPv29writeDataPKv6size_t"></span><span id="writeData__voidCP.s"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeData</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nSamples</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49writeDataPKv6size_t" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Writes a block of data to an NPY file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – An array of values to write; the data type must match the data type that was specified when opening the file.</p></li>
<li><p><strong>nSamples</strong> – The total number of samples to write.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419increaseRecordCounti">
<span id="_CPPv319increaseRecordCounti"></span><span id="_CPPv219increaseRecordCounti"></span><span id="increaseRecordCount__i"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">increaseRecordCount</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419increaseRecordCounti" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Increases the count of the number of records in the file. The record count can be increased at any time, but the final count must match the total number of samples that have been written in order for the file to be loaded properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>count</strong> – The amount by which this file’s record count should be increased.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="sequential-block-files">
<h2>Sequential Block Files<a class="headerlink" href="#sequential-block-files" title="Permalink to this heading">#</a></h2>
<p>All Record Engines also have access to a <code class="code docutils literal notranslate"><span class="pre">SequentialBlockFile</span></code> class that can be used to write data to compact binary files that are often have a “.bin” or “.dat” extension. This is how continuous data is stored in the Open Ephys <a class="reference internal" href="../../User-Manual/Recording-data/Binary-format.html#binaryformat"><span class="std std-ref">Binary Format</span></a>, and it is common to see these files in other neuroscience-specific formats as well.</p>
<p>To write data to a Sequential Block File, only three methods are needed:</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419SequentialBlockFilei">
<span id="_CPPv319SequentialBlockFilei"></span><span id="_CPPv219SequentialBlockFilei"></span><span id="SequentialBlockFile__i"></span><span class="sig-name descname"><span class="n"><span class="pre">SequentialBlockFile</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nChannels</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419SequentialBlockFilei" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Sequential Block File constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nChannels</strong> – The total number of continuous channels to store in this file.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv48openFile6String">
<span id="_CPPv38openFile6String"></span><span id="_CPPv28openFile6String"></span><span id="openFile__String"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">openFile</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">String</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv48openFile6String" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Opens the file at the requested location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – Absolute path to the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412writeChannel6uint64iP5int16i">
<span id="_CPPv312writeChannel6uint64iP5int16i"></span><span id="_CPPv212writeChannel6uint64iP5int16i"></span><span id="writeChannel__uint64.i.int16P.i"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeChannel</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">startPos</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">channel</span></span>, <span class="n"><span class="pre">int16</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nSamples</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412writeChannel6uint64iP5int16i" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Writes data for a particular channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>startPos</strong> – The index of the first sample to write.</p></li>
<li><p><strong>channel</strong> – The index of the channel to write.</p></li>
<li><p><strong>data</strong> – Pointer to the first sample to be written.</p></li>
<li><p><strong>nSamples</strong> – The total number of samples to write.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="Data-Threads.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Data Threads</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="File-Sources.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">File Sources</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#npy-files">
   NPY Files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sequential-block-files">
   Sequential Block Files
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2010-2022, Open Ephys &amp; Contributors.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>