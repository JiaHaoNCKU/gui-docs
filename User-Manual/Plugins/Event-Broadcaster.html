
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Broadcaster &#8212; Open Ephys GUI Docs</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Event Translator" href="Event-Translator.html" />
    <link rel="prev" title="Ephys Socket" href="Ephys-Socket.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/oe_logo_gui.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Manual</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Developer-Guide/index.html">Developer Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Tutorials/index.html">Tutorials</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../FAQ/index.html">FAQs</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
          
            
                <li class="">
                    <a href="../Before-you-begin.html">Before you begin</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Hardware-requirements.html">Hardware requirements</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Installing-the-GUI.html">Installing the GUI</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Exploring-the-user-interface.html">Exploring the user interface</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Building-a-signal-chain.html">Building a signal chain</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Recording-data/index.html">Recording data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Whats-new-in-version-06X.html">What’s new in version 0.6.X</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="index.html">Plugins</a>
                    <ul>
                    
                        <li class="">
                            <a href="Arduino-Output.html">Arduino Output</a>
                        </li>
                    
                        <li class="">
                            <a href="Audio-Monitor.html">Audio Monitor</a>
                        </li>
                    
                        <li class="">
                            <a href="Bandpass-Filter.html">Bandpass Filter</a>
                        </li>
                    
                        <li class="">
                            <a href="Channel-Map.html">Channel Map</a>
                        </li>
                    
                        <li class="">
                            <a href="Common-Average-Reference.html">Common Average Reference</a>
                        </li>
                    
                        <li class="">
                            <a href="Crossing-Detector.html">Crossing Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Ephys-Socket.html">Ephys Socket</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Event Broadcaster</a>
                        </li>
                    
                        <li class="">
                            <a href="Event-Translator.html">Event Translator</a>
                        </li>
                    
                        <li class="">
                            <a href="Falcon-Output.html">Falcon Output</a>
                        </li>
                    
                        <li class="">
                            <a href="File-Reader.html">File Reader</a>
                        </li>
                    
                        <li class="">
                            <a href="LFP-Viewer.html">LFP Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="MATLAB-Interface.html">MATLAB Interface</a>
                        </li>
                    
                        <li class="">
                            <a href="Merger.html">Merger</a>
                        </li>
                    
                        <li class="">
                            <a href="Multiband-Integrator.html">Multi-Band Integrator</a>
                        </li>
                    
                        <li class="">
                            <a href="Network-Events.html">Network Events</a>
                        </li>
                    
                        <li class="">
                            <a href="Neuropixels-CAR.html">Neuropixels CAR</a>
                        </li>
                    
                        <li class="">
                            <a href="Neuropixels-PXI.html">Neuropixels PXI</a>
                        </li>
                    
                        <li class="">
                            <a href="NIDAQmx.html">NI-DAQmx</a>
                        </li>
                    
                        <li class="">
                            <a href="Online-PSTH.html">Online PSTH</a>
                        </li>
                    
                        <li class="">
                            <a href="Phase-Calculator.html">Phase Calculator</a>
                        </li>
                    
                        <li class="">
                            <a href="Phase-Detector.html">Phase Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Probe-Viewer.html">Probe Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Pulse-Pal.html">Pulse Pal</a>
                        </li>
                    
                        <li class="">
                            <a href="Record-Control.html">Record Control</a>
                        </li>
                    
                        <li class="">
                            <a href="Rhythm-Plugins.html">Rhythm Plugins</a>
                        </li>
                    
                        <li class="">
                            <a href="Spectrum-Viewer.html">Spectrum Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Detector.html">Spike Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Sorter.html">Spike Sorter</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Viewer.html">Spike Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Splitter.html">Splitter</a>
                        </li>
                    
                        <li class="">
                            <a href="Tracking-Plugin.html">Tracking Plugin</a>
                        </li>
                    
                        <li class="">
                            <a href="Virtual-Reference.html">Virtual Reference</a>
                        </li>
                    
                        <li class="">
                            <a href="ZMQ-Interface.html">ZMQ Interface</a>
                        </li>
                    
                    </ul>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#installing-and-upgrading" class="nav-link">Installing and upgrading</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#plugin-configuration" class="nav-link">Plugin configuration</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#json-packet-format" class="nav-link">JSON Packet Format</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#spikes" class="nav-link">Spikes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#ttl-events" class="nav-link">TTL Events</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#raw-binary-packet-format" class="nav-link">Raw Binary Packet Format</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#receiving-data-in-python" class="nav-link">Receiving data in Python</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="event-broadcaster">
<span id="eventbroadcaster"></span><h1>Event Broadcaster<a class="headerlink" href="#event-broadcaster" title="Permalink to this headline">¶</a></h1>
<img alt="Annotated Event Broadcaster editor" src="../../_images/eventbroadcaster-01.png" />
<table class="colwidths-given table" id="id1">
<caption><span class="caption-text">Sends events from the GUI to external applications using a ZeroMQ socket. Can be used to transmit “lightweight” information about ongoing spikes/events; if the full continuous data is needed, the <a class="reference internal" href="ZMQ-Interface.html#zmqinterface"><span class="std std-ref">ZMQ Interface</span></a> should be used instead.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Plugin Type</em></p></td>
<td><p>Sink</p></td>
</tr>
<tr class="row-even"><td><p><em>Platforms</em></p></td>
<td><p>Windows, Linux, macOS</p></td>
</tr>
<tr class="row-odd"><td><p><em>Built in?</em></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><em>Key Developers</em></p></td>
<td><p>Christopher Stawarz</p></td>
</tr>
<tr class="row-odd"><td><p><em>Source Code</em></p></td>
<td><p><a class="reference external" href="https://github.com/open-ephys-plugins/event-broadcaster">https://github.com/open-ephys-plugins/event-broadcaster</a></p></td>
</tr>
</tbody>
</table>
<div class="section" id="installing-and-upgrading">
<h2>Installing and upgrading<a class="headerlink" href="#installing-and-upgrading" title="Permalink to this headline">¶</a></h2>
<p>The Event Broadcaster plugin is not included by default in the Open Ephys GUI. To install, use <strong>ctrl-P</strong> or <strong>⌘P</strong> to open the Plugin Installer, browse to the “Event Broadcaster” plugin, and click the “Install” button.</p>
<p>The Plugin Installer also allows you to upgrade to the latest version of this plugin, if it’s already installed.</p>
</div>
<div class="section" id="plugin-configuration">
<h2>Plugin configuration<a class="headerlink" href="#plugin-configuration" title="Permalink to this headline">¶</a></h2>
<p><strong>Restart connection</strong>: Resets the ZeroMQ data streaming backend</p>
<p><strong>Port</strong>: Modifies the port number from which this plugin will send data.</p>
<p><strong>Format</strong>: Select the event packet format (<code class="code docutils literal notranslate"><span class="pre">JSON</span></code> or <code class="code docutils literal notranslate"><span class="pre">Raw</span> <span class="pre">Binary</span></code>).</p>
<p>The Event Broadcaster packages and sends all incoming events and spikes, regardless of their stream of origin.</p>
<p>Each event is transmitted as a multi-part message, with the first part indicating the message type (0 = TTL event, 1 = spike), and the second part containing either a JSON string or a raw binary payload.</p>
</div>
<div class="section" id="json-packet-format">
<h2>JSON Packet Format<a class="headerlink" href="#json-packet-format" title="Permalink to this headline">¶</a></h2>
<div class="section" id="spikes">
<h3>Spikes<a class="headerlink" href="#spikes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;event_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;spike&quot;</span><span class="p">,</span>
   <span class="s2">&quot;stream&quot;</span> <span class="p">:</span> <span class="s2">&quot;stream_name&quot;</span><span class="p">,</span>
   <span class="s2">&quot;source_node&quot;</span> <span class="p">:</span> <span class="mi">105</span><span class="p">,</span>
   <span class="s2">&quot;electrode&quot;</span> <span class="p">:</span> <span class="s2">&quot;Electrode 1&quot;</span><span class="p">,</span>
   <span class="s2">&quot;num_channels&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
   <span class="s2">&quot;sample_rate&quot;</span> <span class="p">:</span> <span class="mi">30000</span><span class="p">,</span>
   <span class="s2">&quot;sample_number&quot;</span> <span class="p">:</span> <span class="mi">193722</span><span class="p">,</span>
   <span class="s2">&quot;sorted_id&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;amp1&quot;</span> <span class="p">:</span> <span class="mi">210</span><span class="p">,</span>
   <span class="s2">&quot;amp2&quot;</span> <span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
   <span class="s2">&quot;amp3&quot;</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
   <span class="s2">&quot;amp4&quot;</span> <span class="p">:</span> <span class="mi">5</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="ttl-events">
<h3>TTL Events<a class="headerlink" href="#ttl-events" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;event_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;ttl&quot;</span><span class="p">,</span>
   <span class="s2">&quot;stream&quot;</span> <span class="p">:</span> <span class="s2">&quot;stream_name&quot;</span><span class="p">,</span>
   <span class="s2">&quot;source_node&quot;</span> <span class="p">:</span> <span class="mi">101</span><span class="p">,</span>
   <span class="s2">&quot;sample_rate&quot;</span> <span class="p">:</span> <span class="mi">30000</span><span class="p">,</span>
   <span class="s2">&quot;channel_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;TTL Event Channel&quot;</span><span class="p">,</span>
   <span class="s2">&quot;sample_number&quot;</span> <span class="p">:</span> <span class="mi">103922</span><span class="p">,</span>
   <span class="s2">&quot;line&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span> <span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="raw-binary-packet-format">
<h2>Raw Binary Packet Format<a class="headerlink" href="#raw-binary-packet-format" title="Permalink to this headline">¶</a></h2>
<p>When sending packets in raw binary mode, the Event Broadcaster serializes the events into the same format used internally by the GUI. For the details of the serialized spikes, refer to the source code in <code class="code docutils literal notranslate"><span class="pre">Event.h</span></code> and <code class="code docutils literal notranslate"><span class="pre">Spike.h</span></code>.</p>
</div>
<div class="section" id="receiving-data-in-python">
<h2>Receiving data in Python<a class="headerlink" href="#receiving-data-in-python" title="Permalink to this headline">¶</a></h2>
<p>See the <a class="reference external" href="https://github.com/open-ephys/open-ephys-python-tools/tree/main/open_ephys/streaming/">open-ephys-python-tools</a> repository for a more complete implementation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">zmq</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;tcp://localhost:5557&quot;</span>

<span class="n">context</span> <span class="o">=</span> <span class="n">zmq</span><span class="o">.</span><span class="n">Context</span><span class="p">()</span>
<span class="n">socket</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">zmq</span><span class="o">.</span><span class="n">SUB</span><span class="p">)</span>
<span class="n">socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="k">for</span> <span class="n">eventType</span> <span class="ow">in</span> <span class="p">(</span><span class="sa">b</span><span class="s1">&#39;ttl&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;spike&#39;</span><span class="p">):</span>
   <span class="n">socket</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">zmq</span><span class="o">.</span><span class="n">SUBSCRIBE</span><span class="p">,</span> <span class="n">eventType</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">info</span><span class="p">):</span>
   <span class="c1">#do something with the incoming data</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
   <span class="n">parts</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">recv_multipart</span><span class="p">()</span>

   <span class="n">event_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

   <span class="n">callback</span><span class="p">(</span><span class="n">event_info</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="Ephys-Socket.html" title="previous page">Ephys Socket</a>
    <a class='right-next' id="next-link" href="Event-Translator.html" title="next page">Event Translator</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2022, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>