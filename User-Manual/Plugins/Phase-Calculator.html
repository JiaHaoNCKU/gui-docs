
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phase Calculator &#8212; Open Ephys GUI Docs</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Phase Detector" href="Phase-Detector.html" />
    <link rel="prev" title="Online PSTH" href="Online-PSTH.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/oe_logo_gui.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Manual</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Developer-Guide/index.html">Developer Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Tutorials/index.html">Tutorials</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../FAQ/index.html">FAQs</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
          
            
                <li class="">
                    <a href="../Before-you-begin.html">Before you begin</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Hardware-requirements.html">Hardware requirements</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Installing-the-GUI.html">Installing the GUI</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Exploring-the-user-interface.html">Exploring the user interface</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Building-a-signal-chain.html">Building a signal chain</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Recording-data/index.html">Recording data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Remote-control.html">Remote control</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Whats-new.html">What’s new in version 0.6.x</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="index.html">Plugins</a>
                    <ul>
                    
                        <li class="">
                            <a href="Arduino-Output.html">Arduino Output</a>
                        </li>
                    
                        <li class="">
                            <a href="Audio-Monitor.html">Audio Monitor</a>
                        </li>
                    
                        <li class="">
                            <a href="Bandpass-Filter.html">Bandpass Filter</a>
                        </li>
                    
                        <li class="">
                            <a href="Channel-Map.html">Channel Map</a>
                        </li>
                    
                        <li class="">
                            <a href="Common-Average-Reference.html">Common Average Reference</a>
                        </li>
                    
                        <li class="">
                            <a href="Crossing-Detector.html">Crossing Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Ephys-Socket.html">Ephys Socket</a>
                        </li>
                    
                        <li class="">
                            <a href="Event-Broadcaster.html">Event Broadcaster</a>
                        </li>
                    
                        <li class="">
                            <a href="Event-Translator.html">Event Translator</a>
                        </li>
                    
                        <li class="">
                            <a href="Falcon-Output.html">Falcon Output</a>
                        </li>
                    
                        <li class="">
                            <a href="File-Reader.html">File Reader</a>
                        </li>
                    
                        <li class="">
                            <a href="LFP-Viewer.html">LFP Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="MATLAB-Interface.html">MATLAB Interface</a>
                        </li>
                    
                        <li class="">
                            <a href="Merger.html">Merger</a>
                        </li>
                    
                        <li class="">
                            <a href="Multiband-Integrator.html">Multi-Band Integrator</a>
                        </li>
                    
                        <li class="">
                            <a href="Network-Events.html">Network Events</a>
                        </li>
                    
                        <li class="">
                            <a href="Neuropixels-CAR.html">Neuropixels CAR</a>
                        </li>
                    
                        <li class="">
                            <a href="Neuropixels-PXI.html">Neuropixels PXI</a>
                        </li>
                    
                        <li class="">
                            <a href="NIDAQmx.html">NI-DAQmx</a>
                        </li>
                    
                        <li class="">
                            <a href="Online-PSTH.html">Online PSTH</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Phase Calculator</a>
                        </li>
                    
                        <li class="">
                            <a href="Phase-Detector.html">Phase Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Probe-Viewer.html">Probe Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Pulse-Pal.html">Pulse Pal</a>
                        </li>
                    
                        <li class="">
                            <a href="Record-Control.html">Record Control</a>
                        </li>
                    
                        <li class="">
                            <a href="Rhythm-Plugins.html">Rhythm Plugins</a>
                        </li>
                    
                        <li class="">
                            <a href="Spectrum-Viewer.html">Spectrum Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Detector.html">Spike Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Sorter.html">Spike Sorter</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Viewer.html">Spike Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Splitter.html">Splitter</a>
                        </li>
                    
                        <li class="">
                            <a href="Tracking-Plugin.html">Tracking Plugin</a>
                        </li>
                    
                        <li class="">
                            <a href="Virtual-Reference.html">Virtual Reference</a>
                        </li>
                    
                        <li class="">
                            <a href="ZMQ-Interface.html">ZMQ Interface</a>
                        </li>
                    
                    </ul>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#installing-and-upgrading" class="nav-link">Installing and upgrading</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#recommended-signal-chain" class="nav-link">Recommended signal chain</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#plugin-configuration" class="nav-link">Plugin configuration</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#channel-selection" class="nav-link">Channel selection</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#defining-the-frequency-band-of-interest" class="nav-link">Defining the frequency band of interest</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#visualization" class="nav-link">Visualization</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="phase-calculator">
<span id="phasecalculator"></span><h1>Phase Calculator<a class="headerlink" href="#phase-calculator" title="Permalink to this headline">¶</a></h1>
<img alt="Phase Calculator plugin settings interface" src="../../_images/phasecalculator-01.png" />
<table class="colwidths-given table" id="id1">
<caption><span class="caption-text">Estimates the phase of a continuous input signal within a specified passband. It can be used to perform phase-specific closed-loop stimulation, typically in combination with the <a class="reference internal" href="Crossing-Detector.html#crossingdetector"><span class="std std-ref">Crossing Detector</span></a>.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Plugin Type</em></p></td>
<td><p>Filter</p></td>
</tr>
<tr class="row-even"><td><p><em>Platforms</em></p></td>
<td><p>Windows, Linux, macOS</p></td>
</tr>
<tr class="row-odd"><td><p><em>Built in?</em></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><em>Key Developers</em></p></td>
<td><p>Ethan Blackwood, Mark Schatza</p></td>
</tr>
<tr class="row-odd"><td><p><em>Source Code</em></p></td>
<td><p><a class="reference external" href="https://github.com/open-ephys-plugins/phase-calculator">https://github.com/open-ephys-plugins/phase-calculator</a></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Phase Calculator is able to estimate phase more precisely than the <a class="reference internal" href="Phase-Detector.html#phasedetector"><span class="std std-ref">Phase Detector</span></a> plugin, which uses a simple peak/trough/zero crossing detection.</p>
</div>
<div class="section" id="installing-and-upgrading">
<h2>Installing and upgrading<a class="headerlink" href="#installing-and-upgrading" title="Permalink to this headline">¶</a></h2>
<p>The Phase Calculator plugin is not included by default in the Open Ephys GUI. To install, use <strong>ctrl-P</strong> or <strong>⌘P</strong> to access the Plugin Installer, browse to the “Phase Calculator” plugin, and click the “Install” button.</p>
<p>The Plugin Installer also allows you to upgrade to the latest version of this plugin, if it’s already installed.</p>
</div>
<div class="section" id="recommended-signal-chain">
<h2>Recommended signal chain<a class="headerlink" href="#recommended-signal-chain" title="Permalink to this headline">¶</a></h2>
<p>The input to the Phase Calculator should be a wideband, <em>unfiltered</em> signal. The Phase Calculator includes its own internal filters optimized for phase estimation.</p>
<p>Because the Phase Calculator overwrites incoming channels with the estimated phase, there should be a <a class="reference internal" href="Splitter.html#splitter"><span class="std std-ref">Splitter</span></a> in the signal chain if the original signals are needed for further downstream processing.</p>
<p>This image shows the output of the Phase Calculator with two channels (1 and 5) being analyzed.</p>
<img alt="Phase Calculator demo" src="../../_images/phase_calculator_demo.png" />
</div>
<div class="section" id="plugin-configuration">
<h2>Plugin configuration<a class="headerlink" href="#plugin-configuration" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Phase Calculator takes a few seconds to initialize, so please be patient!</p>
</div>
<div class="section" id="channel-selection">
<h3>Channel selection<a class="headerlink" href="#channel-selection" title="Permalink to this headline">¶</a></h3>
<p>Since the phase estimation algorithm is somewhat processor-intensive, by default only the first input channel of each stream is enabled. Use the <strong>Channels</strong> button to select additional channels as needed. Each selected channel will be transformed from a continuously sampled sequence of voltages into an estimate of the frequency-specific phase between -180 to +180.</p>
</div>
<div class="section" id="defining-the-frequency-band-of-interest">
<h3>Defining the frequency band of interest<a class="headerlink" href="#defining-the-frequency-band-of-interest" title="Permalink to this headline">¶</a></h3>
<p>First, use the <code class="code docutils literal notranslate"><span class="pre">FREQ</span> <span class="pre">RANGE`</span></code> drop-down menu to select the general frequency range to analyze. This determines which of the pre-designed Hilbert transformer filters will be used internally. Note that frequencies below 4 Hz (delta band) are too low to calculate an accurate phase estimate.</p>
<p>Next, use the <code class="code docutils literal notranslate"><span class="pre">LOW_CUT</span></code> and <code class="code docutils literal notranslate"><span class="pre">HIGH_CUT`</span></code> parameters to define a more specific passband. Changing the general frequency range will automatically set a default high and low cut, but they can be edited to filter to any band within the specified range.</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">AR_REFRESH</span></code> and <code class="code docutils literal notranslate"><span class="pre">AR_ORDER</span></code> control the autoregressive model used to predict the “future” portion of the Hilbert buffer. AR parameters are estimated using Burg’s method. TThe default settings generally work well, but alternate values (particularly a lower order) may improve the estimate in certain cases.</p></li>
</ul>
</div>
<div class="section" id="visualization">
<h3>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h3>
<p>Clicking the tab or window button opens the “event phase plot” view. This will plot the phase of incoming TTL events relative to a continuous channel of interest. The continuous channel must be one that is selected for processing in the <strong>Channels</strong> parameter editor.</p>
<p>This visualization can be used to measure the actual phase of hardware TTL outputs (e.g. from the <a class="reference internal" href="Arduino-Output.html#arduinooutput"><span class="std std-ref">Arduino Output</span></a> or <a class="reference internal" href="Pulse-Pal.html#pulsepal"><span class="std std-ref">Pulse Pal</span></a>). One simply needs to connect the output events to a TTL input line on the data acquisition hardware, and then make sure the correct input is selected in the Phase Calculator visualizer.</p>
<img alt="Phase Calculator visualizer" src="../../_images/phase_calculator_visualizer.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="Online-PSTH.html" title="previous page">Online PSTH</a>
    <a class='right-next' id="next-link" href="Phase-Detector.html" title="next page">Phase Detector</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2022, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>