
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ephys Socket &#8212; Open Ephys Documentation 0.0.0 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Event Broadcaster" href="Event-Broadcaster.html" />
    <link rel="prev" title="Crossing Detector" href="Crossing-Detector.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/oe_logo_circle.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  User Manual
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../Developer-Guide/index.html">
  Developer Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../Tutorials/index.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../FAQ/index.html">
  FAQ
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/open-ephys" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/openephys" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Before-you-begin.html">
   Before you begin
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Hardware-requirements.html">
   Hardware requirements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Installing-the-GUI.html">
   Installing the GUI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Exploring-the-user-interface.html">
   Exploring the user interface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Building-a-signal-chain.html">
   Building a signal chain
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Recording-data/index.html">
   Recording data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Recording-data/Binary-format.html">
     Binary format
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Recording-data/Open-Ephys-format.html">
     Open Ephys format
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Recording-data/NWB-format.html">
     NWB format
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Recording-data/KWIK-format.html">
     KWIK format
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Plugins
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="Arduino-Output.html">
     Arduino Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Bandpass-Filter.html">
     Bandpass Filter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Channel-Map.html">
     Channel Map
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Common-Average-Reference.html">
     Common Average Reference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Crossing-Detector.html">
     Crossing Detector
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Ephys Socket
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Event-Broadcaster.html">
     Event Broadcaster
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Event-Triggered-Average.html">
     Event Triggered Average
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="File-Reader.html">
     File Reader
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Intan-Recording-Controller.html">
     Intan Recording Controller
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LFP-Viewer.html">
     LFP Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MATLAB-Interface.html">
     MATLAB Interface
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Merger.html">
     Merger
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Multiband-Integrator.html">
     Multi-Band Integrator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Network-Events.html">
     Network Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Neuropixels-3a.html">
     Neuropixels 3a
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Neuropixels-PXI.html">
     Neuropixels PXI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NIDAQmx.html">
     NIDAQmx
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Phase-Calculator.html">
     Phase Calculator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Phase-Detector.html">
     Phase Detector
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Probe-Viewer.html">
     Probe Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Pulse-Pal.html">
     Pulse Pal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Record-Control.html">
     Record Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Rectifier.html">
     Rectifier
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Rhythm-FPGA.html">
     Rhythm FPGA
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Serial-Port.html">
     Serial Port
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Spectrum-Viewer.html">
     Spectrum Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Spike-Detector.html">
     Spike Detector
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Spike-Sorter.html">
     Spike Sorter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Spike-Viewer.html">
     Spike Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Splitter.html">
     Splitter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Stream-Muxer.html">
     Stream Muxer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ZMQ-Interface.html">
     ZMQ Interface
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installing-and-upgrading">
   Installing and upgrading
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plugin-configuration">
   Plugin Configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#in-bonsai">
     In Bonsai
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#in-open-ephys">
     In Open Ephys
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="ephys-socket">
<span id="ephyssocket"></span><h1>Ephys Socket<a class="headerlink" href="#ephys-socket" title="Permalink to this headline">¶</a></h1>
<img alt="Annotated Ephys Socket Editor" src="../../_images/ephyssocket-01.png" />
<table class="colwidths-given table" id="id1">
<caption><span class="caption-text">Receives continuous data from the OpenCVMatSocket in Bonsai. This is intended to be a quick way to stream ephys data from Bonsai, for example if you’re performing closed-loop feedback in Bonsai, but want to visualize your data in the Open Ephys GUI.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Plugin Type</em></p></td>
<td><p>Source</p></td>
</tr>
<tr class="row-even"><td><p><em>Platforms</em></p></td>
<td><p>Windows, Linux, macOS</p></td>
</tr>
<tr class="row-odd"><td><p><em>Built in?</em></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><em>Key Developers</em></p></td>
<td><p>Jon Newman</p></td>
</tr>
<tr class="row-odd"><td><p><em>Source Code</em></p></td>
<td><p><a class="reference external" href="https://github.com/open-ephys-plugins/EphysSocket">https://github.com/open-ephys-plugins/EphysSocket</a></p></td>
</tr>
</tbody>
</table>
<div class="section" id="installing-and-upgrading">
<h2>Installing and upgrading<a class="headerlink" href="#installing-and-upgrading" title="Permalink to this headline">¶</a></h2>
<p>The Ephys Socket plugin is not included by default in the Open Ephys GUI. To install, use <strong>ctrl-P</strong> to access the Plugin Installer, browse to the “Ephys Socket” plugin, and click the “Install” button.</p>
<p>The Plugin Installer also allows you to upgrade to the latest version of this plugin, if it’s already installed.</p>
</div>
<div class="section" id="plugin-configuration">
<h2>Plugin Configuration<a class="headerlink" href="#plugin-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="in-bonsai">
<h3>In Bonsai<a class="headerlink" href="#in-bonsai" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Make sure you have the “<strong>Bonsai.Ephys</strong>” and “<strong>Bonsai.JonsUtils</strong>” packages installed. For the latter, you’ll have to set the package source to “Community Packages”.</p></li>
<li><p>Create a signal chain that includes (at least):</p>
<ul class="simple">
<li><p>A source that generates an OpenCV.Net.Mat output (e.g. Rhd2000EvalBoard, which is compatible with the Open Ephys acquisition board)</p></li>
<li><p>A member selector that isolates the OpenCV.Net.Mat output</p></li>
<li><p>The OpenCVMatSocket from JonsUtils.</p></li>
</ul>
</li>
<li><p>Click on the OpenCVMatSocket, and change the port number to <code class="code docutils literal notranslate"><span class="pre">9001</span></code>.</p></li>
<li><p>(Optional) Add a “Select Channels” operator before OpenCVMatSocket, to select a subset of channels for streaming.</p></li>
<li><p>Start the workflow to initiate the data stream.</p></li>
</ol>
<p>The workflow should look something like the one pictured below (<code class="code docutils literal notranslate"><span class="pre">.bonsai</span></code> file available in the <a class="reference external" href="https://github.com/open-ephys-plugins/EphysSocket/tree/master/Resources">Ephys Socket GitHub repo</a>):</p>
<img alt="A compatible Bonsai workflow" src="../../_images/ephyssocket-02.png" />
</div>
<div class="section" id="in-open-ephys">
<h3>In Open Ephys<a class="headerlink" href="#in-open-ephys" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Drag and drop the Ephys Socket plugin onto the signal chain.</p></li>
<li><p>Add downstream plugins (e.g., LFP Viewer)</p></li>
<li><p>If the downstream plugins are grayed out, click the “Connect” button to re-establish the connection with Bonsai. If it’s not connecting, make sure the Bonsai workflow is running, and the port numbers match.</p></li>
<li><p>Make sure the “channels” parameter matches the number of channels coming out of Bonsai. You shouldn’t have to change the “samples”, “offset”, or “scale” parameters unless you are interfacing with a custom data stream.</p></li>
<li><p>Ensure the “frequency” parameter matches the sample rate of the Bonsai data stream. By default the Open Ephys acquisition board acquires data at 30000 Hz.</p></li>
<li><p>Start acquisition in Open Ephys. If all is working, you should see the data stream in the LFP Viewer. If the buffer size (number of channels) doesn’t match, Open Ephys won’t be able to acquire data.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This plugin doesn’t currently guarantee that samples won’t be lost in transit, so it’s essential to save your data stream on the Bonsai end. We are working on implementing a buffering system on the Open Ephys side, to ensure that all samples are being received. If you suspect samples are being dropped (e.g., if the LFP Viewer is not updating at the expected speed), sending fewer channels at a time should fix the problem.</p>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="Crossing-Detector.html" title="previous page">Crossing Detector</a>
    <a class='right-next' id="next-link" href="Event-Broadcaster.html" title="next page">Event Broadcaster</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2010-2021, Open Ephys &amp; Contributors.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>