
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>NI-DAQmx &#8212; Open Ephys GUI Docs</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Online PSTH" href="Online-PSTH.html" />
    <link rel="prev" title="Neuropixels PXI" href="Neuropixels-PXI.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/oe_logo_gui.svg" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/oe_logo_gui.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item current active">
                    <a class="nav-link" href="../index.html">
                        User Manual
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../Developer-Guide/index.html">
                        Developer Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../Tutorials/index.html">
                        Tutorials
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../FAQ/index.html">
                        FAQs
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item current active">
                    <a class="nav-link" href="../index.html">
                        User Manual
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../Developer-Guide/index.html">
                        Developer Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../Tutorials/index.html">
                        Tutorials
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../FAQ/index.html">
                        FAQs
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Before-you-begin.html">Before you begin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hardware-requirements.html">Hardware requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Installing-the-GUI.html">Installing the GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Exploring-the-user-interface.html">Exploring the user interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Building-a-signal-chain.html">Building a signal chain</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Recording-data/index.html">Recording data</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Recording-data/Binary-format.html">Binary Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Recording-data/Open-Ephys-format.html">Open Ephys Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Recording-data/NWB-format.html">NWB Format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Remote-control.html">Remote control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Whats-new.html">What’s new in version 0.6.x</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Plugins</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Arduino-Output.html">Arduino Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="Audio-Monitor.html">Audio Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="Bandpass-Filter.html">Bandpass Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="Channel-Map.html">Channel Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="Common-Average-Reference.html">Common Average Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="CNN-Ripple.html">CNN Ripple</a></li>
<li class="toctree-l2"><a class="reference internal" href="Crossing-Detector.html">Crossing Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="Data-Snapshot.html">Data Snapshot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ephys-Socket.html">Ephys Socket</a></li>
<li class="toctree-l2"><a class="reference internal" href="Event-Broadcaster.html">Event Broadcaster</a></li>
<li class="toctree-l2"><a class="reference internal" href="Event-Translator.html">Event Translator</a></li>
<li class="toctree-l2"><a class="reference internal" href="Falcon-Output.html">Falcon Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="File-Reader.html">File Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="LFP-Viewer.html">LFP Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="LSL-Inlet.html">LSL Inlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="MATLAB-Interface.html">MATLAB Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="Merger.html">Merger</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multiband-Integrator.html">Multi-Band Integrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="Network-Events.html">Network Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="Neuropixels-CAR.html">Neuropixels CAR</a></li>
<li class="toctree-l2"><a class="reference internal" href="Neuropixels-PXI.html">Neuropixels PXI</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">NI-DAQmx</a></li>
<li class="toctree-l2"><a class="reference internal" href="Online-PSTH.html">Online PSTH</a></li>
<li class="toctree-l2"><a class="reference internal" href="OSC-Events.html">OSC Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="Phase-Calculator.html">Phase Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="Phase-Detector.html">Phase Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="Probe-Viewer.html">Probe Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pulse-Pal.html">Pulse Pal</a></li>
<li class="toctree-l2"><a class="reference internal" href="Record-Control.html">Record Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="Rhythm-Plugins.html">Rhythm Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ripple-Detector.html">Ripple Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="River-Output.html">River Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="Spectrum-Viewer.html">Spectrum Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="Spike-Detector.html">Spike Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="Spike-Sorter.html">Spike Sorter</a></li>
<li class="toctree-l2"><a class="reference internal" href="Spike-Viewer.html">Spike Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="Splitter.html">Splitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tracking-Plugin.html">Tracking Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="TTL-Panels.html">TTL Panels</a></li>
<li class="toctree-l2"><a class="reference internal" href="Virtual-Reference.html">Virtual Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="XDAQ-OE.html">XDAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="ZMQ-Interface.html">ZMQ Interface</a></li>
</ul>
</li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="ni-daqmx">
<span id="id1"></span><h1>NI-DAQmx<a class="headerlink" href="#ni-daqmx" title="Permalink to this heading">#</a></h1>
<img alt="NI-DAQmx plugin settings interface" src="../../_images/nidaqmx-01.png" />
<table class="table" id="id2">
<caption><span class="caption-text">Streams analog and digital data from National Instruments (NI) hardware. Use multiple instances of this plugin to acquire data from several PXI-, PCI-, and/or USB-based NI devices simultaneously. Can be used in tandem with the Neuropix-PXI plugin, to read in analog and digital inputs in parallel with Neuropixels data.</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Plugin Type</em></p></td>
<td><p>Source</p></td>
</tr>
<tr class="row-even"><td><p><em>Platforms</em></p></td>
<td><p>Windows only</p></td>
</tr>
<tr class="row-odd"><td><p><em>Built in?</em></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><em>Key Developers</em></p></td>
<td><p>Pavel Kulik</p></td>
</tr>
<tr class="row-odd"><td><p><em>Source Code</em></p></td>
<td><p><a class="github reference external" href="https://github.com/open-ephys-plugins/nidaq-plugin">open-ephys-plugins/nidaq-plugin</a></p></td>
</tr>
</tbody>
</table>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>One National Instruments data acquisition (DAQ) device (PXI, PCI, or USB); see below for a list of devices we’ve tested.</p></li>
<li><p>(optional) An NI terminal block (e.g. BNC-2090A or BNC-2110) and compatible cables</p></li>
<li><p>Installed NI-DAQmx drivers (available for download <a class="reference external" href="https://www.ni.com/en-us/support/downloads/drivers/download.ni-daqmx.html#348669">here</a>; version 19.0+ recommended).</p></li>
<li><p><strong>For synchronization</strong>: One digital input line shared between all data sources streaming data to the GUI (e.g., Open Ephys acquisition board, Neuropixels PXI basestation, other NI devices).</p></li>
</ul>
</section>
<section id="installing-and-upgrading">
<h2>Installing and upgrading<a class="headerlink" href="#installing-and-upgrading" title="Permalink to this heading">#</a></h2>
<p>The NI-DAQmx plugin is not included by default in the Open Ephys GUI. To install, use <strong>ctrl-P</strong> or <strong>⌘P</strong> to open the Plugin Installer, browse to the “NI-DAQmx” plugin, and click the “Install” button.</p>
<p>The Plugin Installer also allows you to upgrade to the latest version of this plugin, if it’s already installed.</p>
</section>
<section id="compatible-hardware">
<h2>Compatible hardware<a class="headerlink" href="#compatible-hardware" title="Permalink to this heading">#</a></h2>
<p>So far, we’ve tested the following devices with this plugin:</p>
<table class="table">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Device</strong></p></td>
<td><p><strong>Inputs</strong></p></td>
<td><p><strong>Price</strong></p></td>
</tr>
<tr class="row-even"><td><p>PXI-6133</p></td>
<td><p>8 analog, 8 digital</p></td>
<td><p>$3643</p></td>
</tr>
<tr class="row-odd"><td><p>PXIe-6341</p></td>
<td><p>16 analog, 24 digital</p></td>
<td><p>$1239</p></td>
</tr>
<tr class="row-even"><td><p>PXI-6521</p></td>
<td><p>16 digital (24 V logic)</p></td>
<td><p>$715</p></td>
</tr>
<tr class="row-odd"><td><p>PCIe-6321</p></td>
<td><p>16 analog, 24 digital</p></td>
<td><p>$746</p></td>
</tr>
<tr class="row-even"><td><p>USB-6001</p></td>
<td><p>8 analog, 13 digital</p></td>
<td><p>$220</p></td>
</tr>
</tbody>
</table>
<p>If you’re using the NI-DAQmx plugin alongside the <a class="reference internal" href="Neuropixels-PXI.html#neuropixelspxi"><span class="std std-ref">Neuropixels PXI</span></a> module, we recommend using a PXI-compatible DAQ in the same chassis as the Neuropixels PXI basestation.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All of these devices (with the exception of <strong>PXI-6133</strong>) are known to experience “signal ghosting” if unused analog input channels are not grounded. Grounding at least one positive terminal of an unused analog input channel can reduce ghosting by ~99% of the highest amplitude active channel.</p>
</div>
</section>
<section id="connecting-to-your-nidaq-hardware">
<h2>Connecting to your NIDAQ hardware<a class="headerlink" href="#connecting-to-your-nidaq-hardware" title="Permalink to this heading">#</a></h2>
<p>When you drag and drop the NI-DAQmx plugin from the Processor List onto the Editor Viewport, it automatically checks for all connected NI devices. If multiple devices are found, a ‘Device Swap’ button will appear in the top right corner of the plugin editor that acts as a toggle switch to cycle through all available devices. The module only looks for devices when the plugin initially is dropped into the EditorViewport. If a new device is connected after the plugin is dropped, you will need to drop a new NI-DAQmx module to be able to connect to the new device.</p>
<p>The editor will automatically generate control buttons for each analog and digital input available on the selected NI device. Each analog channel contains a channel status toggle button as well as a terminal configuration toggle button. The channel status toggle button is set to on (green) by default for all channels and is intended to enable/disable channels on the fly. Toggling an enabled channel to off (gray) will ‘zero-out’ the data coming in on that channel.</p>
<p>Each analog channel also contains a terminal configuration toggle specific to the device connected. Possible terminal device configurations are RSE (Referenced Single-Ended), NRSE (Non-Referenced Single-Ended), DIFF (Differential), and PDIF (Pseudo-Differential). The terminal configuration toggle setting in the module should match the configuration in your experimental setup. Since most NI devices cannot infer the terminal configuration electronically, it is up to the user to ensure the module configuration matches the experimental setup prior to acquiring and recording data. An inconsistent terminal configuration can affect the amplitude and voltage offset of the incoming data.</p>
<p>Each digital channel contains a channel status toggle button as well. Disabling digital channels is particularly useful when a digital input line is constantly high or a digital line is not used at all.</p>
<p>On the right side of the module are pull-down selection menus to select the sample rate and voltage range of all analog input channels (set individually for each channel). The module defaults to the highest sample rate as well as the largest voltage range available on the devices. Sample rate and voltage range selection are both disabled during data acquisition and recording.</p>
</section>
<section id="offline-synchronization">
<h2>Offline Synchronization<a class="headerlink" href="#offline-synchronization" title="Permalink to this heading">#</a></h2>
<p>The NI-DAQmx module has its own sample clock, even if it’s in the same PXI chassis as other hardware (e.g. a Neuropixels basestation). Therefore, it needs to be treated as a separate device when performing offline synchronization.</p>
<p>To align timestamps across devices, one device has to be treated as the “master” clock, and all other sets of timestamps must be scaled and shifted to match this clock. This requires that a digital sync line is physically connected across all devices.</p>
<p>While it’s possible to use one of the NI devices (or a Neuropixels PXI basestation) to generate the sync pulses, we recommend using an Arduino running the <a class="reference external" href="https://github.com/open-ephys/sync-barcodes">sync-barcodes</a> program, which generates unique temporal barcode patterns every 30 s. This will allow you to align sample clocks unambiguously, even if your devices are stopped and started at different times.</p>
<p>To perform the offline alignment, you’ll need to identify the first and last shared sync pulse in the recording. The temporal offset between the start of the first sync pulses defines the shift between any device and the master clock. Once you know this, you can calculate the expected interval between the first and last sync pulse (given the expected sample rate of a device). The ratio of the actual interval to the expected interval defines the scaling factor for that device.</p>
<p>Then, each non-master clock can be transformed by the following equation (in Matlab):</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">aligned_timestamps</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">scaling</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">original_timestamps</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shift</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>The “aligned_timestamps” will now be aligned to the master clock, and are ready for further analysis.</p>
</section>
<section id="online-synchronization">
<h2>Online Synchronization<a class="headerlink" href="#online-synchronization" title="Permalink to this heading">#</a></h2>
<p>An Open Ephys Record Node can automatically synchronize data sources that share the same physical sync signal. Since each device acquires data asynchronously, a shared clock signal between two different devices will have different timestamps for corresponding TTL events. A Record Node can designate one of these channels as the main ‘synchronization channel’ and scale the timestamps coming auxiliary devices to be in alignment with the main device.</p>
<p>For Neuropixels probes, you can use the Neuropixels PXI as the main synchronization device by physically connecting the SMA output of the Neuropixels basestation to any digital input channel on the NIDAQ device.</p>
<p>In Open Ephys, place a <a class="reference internal" href="Merger.html#merger"><span class="std std-ref">Merger</span></a> before the Record Node and connect both the <a class="reference internal" href="Neuropixels-PXI.html#neuropixelspxi"><span class="std std-ref">Neuropixels PXI</span></a> plugin and the NI-DAQmx plugin. The Record Node will show either one or two subprocessors per Neuropixels probe (depending if the 2.5kHz LFP band is included by the probe model) and one subprocessor for the NIDAQ device. Each subprocessor’s sync channel monitor will turn green if the digital line on that subprocessor is synchronized with any of the other subprocessors coming into that Record Node.</p>
<img alt="NI-DAQmx plugin syncing" src="../../_images/NIDAQ_NPXMerged.png" />
<p>Upon starting acquisition, the first and third sync channel monitors in the Record Node turn green first, as these contain the 30 kHz AP band of the probes and the source of the synchronization signal. Shortly after, the fifth sync channel monitor turns green, which contains the sync signal coming into the NIDAQ device from the Neuropixels probe’s basestation.</p>
<img alt="NI-DAQmx plugin synced" src="../../_images/NPX_NIDAQSynchronized.png" />
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For more information about recording and synchronization in Open Ephys, please see the <a class="reference internal" href="../Recording-data/index.html#recordingdata"><span class="std std-ref">Recording data</span></a> page.</p>
</div>
</section>
<section id="nidaq-device-comparison">
<h2>NIDAQ Device Comparison<a class="headerlink" href="#nidaq-device-comparison" title="Permalink to this heading">#</a></h2>
<p>We have tested the following devices, in descending order of performance. In all of the below examples, a 5 volt, ~2 Hz square wave &#64;50% duty cycle from an Arduino is used to demonstrate the analog and digital input behaviors you can expect to see using each device in Open Ephys.</p>
<p>If you have any additional devices available for testing, please let us know!</p>
<section id="pxi-6133">
<h3>PXI-6133<a class="headerlink" href="#pxi-6133" title="Permalink to this heading">#</a></h3>
<p>The PXI‑6133 supports simultaneous-sampling, which means the analog and digital channels are guaranteed to be sampled simultaneously in time and synchronized with each other before they reach the GUI. Passing the square wave test signal to both the first analog and first digital input on the card shows that both signals are synchronized:</p>
<img alt="NI-DAQmx plugin PXO-6133 synced input signal magnified" src="../../_images/6133_SyncedPulse_zoomed.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The 6133 takes a few (3-5) seconds to initialize after the acquisition button has been pressed; therefore, there will be a delay before data starts to appear in the LFP Viewer.</p>
</div>
<p>Furthermore, the analog input channels on the 6133 are well-isolated and there is no signal cross-talk on any of the unused analog input channels:</p>
<img alt="NI-DAQmx plugin PXI 6133 synced signal with no interference on unused channels" src="../../_images/6133_SyncedPulse.png" />
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The voltage on the unused channels may float at a constant non-zero value if left open. It is good practice to either ground or short the non-used analog inputs to avoid this.</p>
</div>
</section>
<section id="pxie-6341">
<h3>PXIe-6341<a class="headerlink" href="#pxie-6341" title="Permalink to this heading">#</a></h3>
<p>The PXIe-6341 performs almost as well as the 6133, however, there is cross-talk across unused channels when applying the same test signal as above. That is, if a signal is physically connected to only the first analog input channel, a ‘ghost’ of the signal will appear across all of the open analog input channels as shown below:</p>
<img alt="NI-DAQmx plugin PXIE-6341 syned input signal" src="../../_images/6341_SyncedPulse.png" />
<p>However, if a 10Hz square wave is added to the second analog input and to the second digital input, there is no interference between the new signal and the original test signal on either the analog or digital channels:</p>
<img alt="NI-DAQmx plugin PXIE-6341 multiple analog and digital inputs without interference" src="../../_images/6341_Combo.png" />
</section>
<section id="pxi-6521">
<h3>PXI-6521<a class="headerlink" href="#pxi-6521" title="Permalink to this heading">#</a></h3>
<p>The 6521 is the least expensive PXI DAQ board available from NI. However, it only supports digital input channels that swing higher than +11V in order to get a TTL signal. Nonetheless, this card can still be a cheap(er) alternative for experiments that may only require digital channels alongside neural data. If you are using a 5V microcontroller in your experiments, you will need to boost your digital lines from 5V to something higher than 11V. A potential solution here is to use a 12V power source and a transistor inverter circuit.</p>
</section>
<section id="pcie-6321">
<h3>PCIe-6321<a class="headerlink" href="#pcie-6321" title="Permalink to this heading">#</a></h3>
<p>The PCIe-6321 card does not require a PXI chassis and can be connected directly to the PCIe slot of a PC motherboard. This card exhibits the same behavior with the test signal as the PXI-6341, however, there is some overshooting observed at steep signal transition points. Smooth analog signals will not exhibit this behavior.</p>
<img alt="NI-DAQmx plugin PCIE-6321 seep signal ringing" src="../../_images/6321_synced_ringing.png" />
</section>
<section id="usb-6001">
<h3>USB-6001<a class="headerlink" href="#usb-6001" title="Permalink to this heading">#</a></h3>
<p>Applying the test signal to the first analog and second digital input of the USB 6001 results in the digital channels going high significantly before the analog channels. The USB devices also inherit the ghosting and overshooting issues mentioned in previous devices.</p>
<img alt="NI-DAQmx plugin USB-6001 ghosting with single analog channel" src="../../_images/USB-6001-Unsynced.png" />
<p>The delay between the observed analog and digital inputs is not guaranteed to be constant. By grounding any unused analog channels, the USB-6001 can still achieve a clean and isolated signal on its analog channels:</p>
<img alt="NI-DAQmx plugin USB-6001 grounded unused analog inputs" src="../../_images/USB-6001-Grounded.png" />
</section>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="Neuropixels-PXI.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Neuropixels PXI</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="Online-PSTH.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Online PSTH</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requirements">
   Requirements
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installing-and-upgrading">
   Installing and upgrading
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compatible-hardware">
   Compatible hardware
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#connecting-to-your-nidaq-hardware">
   Connecting to your NIDAQ hardware
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#offline-synchronization">
   Offline Synchronization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#online-synchronization">
   Online Synchronization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nidaq-device-comparison">
   NIDAQ Device Comparison
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pxi-6133">
     PXI-6133
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pxie-6341">
     PXIe-6341
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pxi-6521">
     PXI-6521
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pcie-6321">
     PCIe-6321
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#usb-6001">
     USB-6001
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2010-2023, Open Ephys &amp; Contributors.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>