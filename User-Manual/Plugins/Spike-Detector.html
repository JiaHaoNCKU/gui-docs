
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spike Detector &#8212; Open Ephys GUI Docs</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Spike Sorter" href="Spike-Sorter.html" />
    <link rel="prev" title="Spectrum Viewer" href="Spectrum-Viewer.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/oe_logo_gui.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Manual</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Developer-Guide/index.html">Developer Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Tutorials/index.html">Tutorials</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../FAQ/index.html">FAQs</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
          
            
                <li class="">
                    <a href="../Before-you-begin.html">Before you begin</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Hardware-requirements.html">Hardware requirements</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Installing-the-GUI.html">Installing the GUI</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Exploring-the-user-interface.html">Exploring the user interface</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Building-a-signal-chain.html">Building a signal chain</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Recording-data/index.html">Recording data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Remote-control.html">Remote control</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Whats-new.html">What’s new in version 0.6.x</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="index.html">Plugins</a>
                    <ul>
                    
                        <li class="">
                            <a href="Arduino-Output.html">Arduino Output</a>
                        </li>
                    
                        <li class="">
                            <a href="Audio-Monitor.html">Audio Monitor</a>
                        </li>
                    
                        <li class="">
                            <a href="Bandpass-Filter.html">Bandpass Filter</a>
                        </li>
                    
                        <li class="">
                            <a href="Channel-Map.html">Channel Map</a>
                        </li>
                    
                        <li class="">
                            <a href="Common-Average-Reference.html">Common Average Reference</a>
                        </li>
                    
                        <li class="">
                            <a href="Crossing-Detector.html">Crossing Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Ephys-Socket.html">Ephys Socket</a>
                        </li>
                    
                        <li class="">
                            <a href="Event-Broadcaster.html">Event Broadcaster</a>
                        </li>
                    
                        <li class="">
                            <a href="Event-Translator.html">Event Translator</a>
                        </li>
                    
                        <li class="">
                            <a href="Falcon-Output.html">Falcon Output</a>
                        </li>
                    
                        <li class="">
                            <a href="File-Reader.html">File Reader</a>
                        </li>
                    
                        <li class="">
                            <a href="LFP-Viewer.html">LFP Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="MATLAB-Interface.html">MATLAB Interface</a>
                        </li>
                    
                        <li class="">
                            <a href="Merger.html">Merger</a>
                        </li>
                    
                        <li class="">
                            <a href="Multiband-Integrator.html">Multi-Band Integrator</a>
                        </li>
                    
                        <li class="">
                            <a href="Network-Events.html">Network Events</a>
                        </li>
                    
                        <li class="">
                            <a href="Neuropixels-CAR.html">Neuropixels CAR</a>
                        </li>
                    
                        <li class="">
                            <a href="Neuropixels-PXI.html">Neuropixels PXI</a>
                        </li>
                    
                        <li class="">
                            <a href="NIDAQmx.html">NI-DAQmx</a>
                        </li>
                    
                        <li class="">
                            <a href="Online-PSTH.html">Online PSTH</a>
                        </li>
                    
                        <li class="">
                            <a href="Phase-Calculator.html">Phase Calculator</a>
                        </li>
                    
                        <li class="">
                            <a href="Phase-Detector.html">Phase Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Probe-Viewer.html">Probe Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Pulse-Pal.html">Pulse Pal</a>
                        </li>
                    
                        <li class="">
                            <a href="Record-Control.html">Record Control</a>
                        </li>
                    
                        <li class="">
                            <a href="Rhythm-Plugins.html">Rhythm Plugins</a>
                        </li>
                    
                        <li class="">
                            <a href="Spectrum-Viewer.html">Spectrum Viewer</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Spike Detector</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Sorter.html">Spike Sorter</a>
                        </li>
                    
                        <li class="">
                            <a href="Spike-Viewer.html">Spike Viewer</a>
                        </li>
                    
                        <li class="">
                            <a href="Splitter.html">Splitter</a>
                        </li>
                    
                        <li class="">
                            <a href="Tracking-Plugin.html">Tracking Plugin</a>
                        </li>
                    
                        <li class="">
                            <a href="Virtual-Reference.html">Virtual Reference</a>
                        </li>
                    
                        <li class="">
                            <a href="ZMQ-Interface.html">ZMQ Interface</a>
                        </li>
                    
                    </ul>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#recommended-signal-chain" class="nav-link">Recommended signal chain</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#plugin-configuration" class="nav-link">Plugin configuration</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#creating-electrodes" class="nav-link">Creating electrodes</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#adjusting-parameters" class="nav-link">Adjusting parameters</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#thresholding-algorithms" class="nav-link">Thresholding algorithms</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#working-with-multiple-data-streams" class="nav-link">Working with multiple data streams</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="spike-detector">
<span id="spikedetector"></span><h1>Spike Detector<a class="headerlink" href="#spike-detector" title="Permalink to this headline">¶</a></h1>
<img alt="Annotated Spike Detector settings interface" src="../../_images/spikedetector-01.png" />
<table class="colwidths-given table" id="id1">
<caption><span class="caption-text">Detects spikes in continuous data and packages them as events that can be read by downstream processors.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Plugin Type</em></p></td>
<td><p>Filter</p></td>
</tr>
<tr class="row-even"><td><p><em>Platforms</em></p></td>
<td><p>Windows, Linux, macOS</p></td>
</tr>
<tr class="row-odd"><td><p><em>Built in?</em></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p><em>Key Developers</em></p></td>
<td><p>Josh Siegle</p></td>
</tr>
<tr class="row-odd"><td><p><em>Source Code</em></p></td>
<td><p><a class="reference external" href="https://github.com/open-ephys/plugin-GUI/tree/main/Plugins/BasicSpikeDisplay/SpikeDetector">https://github.com/open-ephys/plugin-GUI/tree/main/Plugins/BasicSpikeDisplay/SpikeDetector</a></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Spike Detector has changed significantly in GUI version 0.6.0+. Be sure to read the documentation carefully to understand the new user interface.</p>
</div>
<div class="section" id="recommended-signal-chain">
<h2>Recommended signal chain<a class="headerlink" href="#recommended-signal-chain" title="Permalink to this headline">¶</a></h2>
<p>The Spike Detector works best on bandpass-filtered data. Therefore, it should always be placed to the right of a <a class="reference internal" href="Bandpass-Filter.html#bandpassfilter"><span class="std std-ref">Bandpass Filter</span></a>. This, in turn, should be placed to the right of a Record Node so the original, unfiltered data can be written to disk:</p>
<p>Source → Record Node → Bandpass Filter → <strong>Spike Detector</strong> → Audio Monitor → Spike Viewer</p>
<p>The Audio Monitor and Spike Viewer must be placed to the <em>right</em> of the Spike Detector in order to receive data generated by its electrodes.</p>
</div>
<div class="section" id="plugin-configuration">
<h2>Plugin configuration<a class="headerlink" href="#plugin-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-electrodes">
<h3>Creating electrodes<a class="headerlink" href="#creating-electrodes" title="Permalink to this headline">¶</a></h3>
<p>In the Spike Detector, an “Electrode” represents a group of continuous channels across which spikes are detected simultaneously. The Spike Detector supports three types of electrodes:</p>
<ol class="arabic simple">
<li><p><strong>Single electrodes</strong> - 1 channel</p></li>
<li><p><strong>Stereotrodes</strong> - 2 channels</p></li>
<li><p><strong>Tetrodes</strong> - 4 channels</p></li>
</ol>
<p>The Spike Detector can be configured with an arbitrary number of electrodes of any type, which may or may not have overlapping continuous channels.</p>
<p>To create new electrodes, first click on the “Configure” button to bring up the “Add electrode” menu:</p>
<img alt="Annotated Spike Detector &quot;add electrode&quot; menu" src="../../_images/spikedetector-02.png" />
<p>Before creating electrodes, there are 3 parameters that can be configured:</p>
<ol class="arabic simple">
<li><p><strong>Electrode count</strong> - Use the text box on the left to type in the number of electrodes you want to create (max: 384). Electrodes can be easily added and deleted later on.</p></li>
<li><p><strong>Electrode type</strong> - Use the combo box to select the type of electrodes you want to create (single electrode, stereotrode, or tetrode).</p></li>
<li><p><strong>Electrode start channel indices</strong> - (Optional) Use the “Channels” button to determine the start channels for each electrode. By default, the first available continuous channels will be selected. To create a custom channel configuration, select a new set of start channel indices in the popup window. For example, if you want to create single electrodes on every 4th channel out of 128, type in <code class="code docutils literal notranslate"><span class="pre">1:4:128</span></code> into the text box and click the “RANGE” button. Start channels can also be selected and de-selected manually.</p></li>
</ol>
<p>Once these values look correct, click the <strong>“+”</strong> button to add your electrodes.</p>
</div>
<div class="section" id="adjusting-parameters">
<h3>Adjusting parameters<a class="headerlink" href="#adjusting-parameters" title="Permalink to this headline">¶</a></h3>
<img alt="Electrode parameter table" src="../../_images/spikedetector-03.png" />
<p>The electrode parameter table contains 7 columns:</p>
<ol class="arabic simple">
<li><p><strong>#</strong> - The index of the electrode. Ctrl/⌘-click or shift-click in this column to select multiple electrodes (or use Ctrl/⌘-A to select all electrodes).</p></li>
<li><p><strong>Name</strong> - The name of the electrode. Double-click on an electrode’s name to edit it.</p></li>
<li><p><strong>Type</strong> - The type of the electrode (SE = single electrode, ST = stereotrode, TT = tetrode). Once an electrode is created, its type cannot be changed.</p></li>
<li><p><strong>Channels</strong> - The continuous channels used by this electrode. These can be changed when acquisition is stopped by clicking on the channel values to bring up the popup channel selection interface. If an electrode does not have enough continuous channels, or the channels do not exist, the electrode’s row will turn red.</p></li>
</ol>
<img alt="Popup channel selection interface" src="../../_images/spikedetector-05.png" />
<ol class="arabic simple" start="5">
<li><p><strong>Thresholds</strong> - The thresholds used for spike detection on each channel. To adjust the thresholds for one electrode, click on the threshold values to bring up the following interface:</p></li>
</ol>
<img alt="Popup threshold adjustment interface" src="../../_images/spikedetector-04.png" />
<ol class="arabic simple" start="6">
<li><p><strong>Waveform</strong> - The type of waveform (FULL vs. PEAK) for this electrode. The Spike Detector currently only supports FULL waveforms.</p></li>
<li><p><strong>Delete</strong> - The buttons on the right-hand side of the table can be used to remove electrodes. If multiple electrodes are selected, they will all be removed as soon as the delete button is pressed. Once an electrode is deleted, it cannot be recovered.</p></li>
</ol>
</div>
</div>
<div class="section" id="thresholding-algorithms">
<h2>Thresholding algorithms<a class="headerlink" href="#thresholding-algorithms" title="Permalink to this headline">¶</a></h2>
<p>The Spike Detector includes three different thresholding algorithms that can be applied to any type of electrode:</p>
<ol class="arabic simple">
<li><p><strong>uV</strong> - Detects a spike whenever the signal on one of the electrode channels passes below a microvolts threshold. This is the default algorithm, and the same one that was used in the Spike Detector in GUI versions prior to 0.6.0.</p></li>
<li><p><strong>STD</strong> - Automatically sets the threshold based on a multiple of the standard deviation of each channel. This method will find a reasonable spike detection threshold without the need for any manual intervention.</p></li>
<li><p><strong>MED</strong> - Automatically sets the threshold based on a multiple of the median value of each channel. This method is more robust to outliers (like very large-amplitude spikes) than the STD method. See <a class="reference external" href="https://pubmed.ncbi.nlm.nih.gov/15228749/">Quian Quiroga et al.</a> for more details.</p></li>
</ol>
<p>To change the thresholding algorithm for multiple (or all) electrodes at once, use the <strong>#</strong> column (or Ctrl/⌘-A) to select multiple electrodes. Then, any changes to once electrode’s threshold settings will propagate to all other selected electrodes.</p>
</div>
<div class="section" id="working-with-multiple-data-streams">
<h2>Working with multiple data streams<a class="headerlink" href="#working-with-multiple-data-streams" title="Permalink to this headline">¶</a></h2>
<p>When the Spike Detector has multiple data streams as input, electrodes must be configured separately for each stream. For example, if you are recording with multiple Neuropixels probes, there will be up to two data streams for each probe (AP and LFP). Make sure the correct probe (and stream) is active when you’re creating new electrodes.</p>
<p>To change the active stream, click on the vertical bars on the right-hand side of the Spike Detector editor to bring up the Stream Selector. Use the arrow buttons or popup menu to select the stream of interest before creating electrodes:</p>
<img alt="Stream selector in the Spike Detector" src="../../_images/spikedetector-06.png" />
<p>If you create electrodes for multiple streams, only the electrodes for the active stream will be visible in the configuration table.</p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="Spectrum-Viewer.html" title="previous page">Spectrum Viewer</a>
    <a class='right-next' id="next-link" href="Spike-Sorter.html" title="next page">Spike Sorter</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2022, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>