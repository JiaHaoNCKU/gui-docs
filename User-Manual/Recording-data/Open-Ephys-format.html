
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Open Ephys format &#8212; Open Ephys GUI Docs</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="NWB format" href="NWB-format.html" />
    <link rel="prev" title="Binary format" href="Binary-format.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/oe_logo_gui.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Manual</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Developer-Guide/index.html">Developer Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Tutorials/index.html">Tutorials</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../FAQ/index.html">FAQs</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
          
            
                <li class="">
                    <a href="../Before-you-begin.html">Before you begin</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Hardware-requirements.html">Hardware requirements</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Installing-the-GUI.html">Installing the GUI</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Exploring-the-user-interface.html">Exploring the user interface</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Building-a-signal-chain.html">Building a signal chain</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="index.html">Recording data</a>
                    <ul>
                    
                        <li class="">
                            <a href="Binary-format.html">Binary format</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Open Ephys format</a>
                        </li>
                    
                        <li class="">
                            <a href="NWB-format.html">NWB format</a>
                        </li>
                    
                        <li class="">
                            <a href="KWIK-format.html">KWIK format</a>
                        </li>
                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../Plugins/index.html">Plugins</a>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#file-organization" class="nav-link">File organization</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#format-details" class="nav-link">Format details</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#headers" class="nav-link">Headers</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#continuous" class="nav-link">Continuous</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#events" class="nav-link">Events</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#spikes" class="nav-link">Spikes</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#reading-data-in-python" class="nav-link">Reading data in Python</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#reading-data-in-matlab" class="nav-link">Reading data in Matlab</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="open-ephys-format">
<span id="openephysformat"></span><h1>Open Ephys format<a class="headerlink" href="#open-ephys-format" title="Permalink to this headline">¶</a></h1>
<img alt="Open Ephys data file icons" src="../../_images/header3.png" />
<table class="colwidths-given table" id="id1">
<caption><span class="caption-text">This is the original format used by the Open Ephys GUI. It is designed with redundancy in mind, so that data can be readily recovered even if the GUI crashes during acquisition. However, because data for each electrode is stored in a separate file, it doesn’t scale to high channel count recordings. All files are stored in a single directory, with the file names used to identify the data source.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Platforms</em></p></td>
<td><p>Windows, Linux, macOS</p></td>
</tr>
<tr class="row-even"><td><p><em>Built in?</em></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p><em>Key Developers</em></p></td>
<td><p>Josh Siegle, Aarón Cuevas López</p></td>
</tr>
<tr class="row-even"><td><p><em>Source Code</em></p></td>
<td><p><a class="reference external" href="https://github.com/open-ephys/plugin-GUI/tree/master/Source/Processors/RecordNode/OpenEphysFormat">https://github.com/open-ephys/plugin-GUI/tree/master/Source/Processors/RecordNode/OpenEphysFormat</a></p></td>
</tr>
</tbody>
</table>
<p><strong>Advantages</strong></p>
<ul class="simple">
<li><p>Data is stored in blocks with well-defined record markers, meaning data recovery is possible even if files are truncated.</p></li>
<li><p>The file header contains all the information required to load the file.</p></li>
</ul>
<p><strong>Limitations</strong></p>
<ul class="simple">
<li><p>Operating systems impose a limit on the number files that can be written to simultaneously, meaning the Open Ephys format is not compatible with high-channel-count recordings (&gt;256 channels).</p></li>
<li><p>In order to achieve robustness, files contain redundant information, meaning they use extra space and take longer to load.</p></li>
</ul>
<div class="section" id="file-organization">
<h2>File organization<a class="headerlink" href="#file-organization" title="Permalink to this headline">¶</a></h2>
<p>All data files are stored within the same Record Node directory, with a completely flat hierarchy. Files for different <strong>experiments</strong> have a number appended after an underscore (starting with <code class="code docutils literal notranslate"><span class="pre">_2</span></code> for the second experiment in a session). Data from different <strong>recordings</strong> is distinguished by the <code class="code docutils literal notranslate"><span class="pre">recording</span> <span class="pre">index</span></code> values within each <code class="code docutils literal notranslate"><span class="pre">.spikes</span></code>, <code class="code docutils literal notranslate"><span class="pre">continuous</span></code>, or <code class="code docutils literal notranslate"><span class="pre">.events</span></code> file.</p>
<a class="reference internal image-reference" href="../../_images/organization3.png"><img alt="Open Ephys data directory structure" src="../../_images/organization3.png" style="width: 300px;" /></a>
<p>Each Record Node directory also contains <code class="code docutils literal notranslate"><span class="pre">Continuous_Data.openephys</span></code>, an XML file with metadata about the <code class="code docutils literal notranslate"><span class="pre">.continuous</span></code> files, and <code class="code docutils literal notranslate"><span class="pre">messages.events</span></code>, a text file containing text events saved by the GUI.</p>
</div>
<div class="section" id="format-details">
<h2>Format details<a class="headerlink" href="#format-details" title="Permalink to this headline">¶</a></h2>
<div class="section" id="headers">
<h3>Headers<a class="headerlink" href="#headers" title="Permalink to this headline">¶</a></h3>
<p>All headers are 1024 bytes long, and are written as a MATLAB-compatible string with the following fields and values:</p>
<ul class="simple">
<li><p>format = ‘Open Ephys Data Format’</p></li>
<li><p>version = 0.4</p></li>
<li><p>header_bytes = 1024</p></li>
<li><p>description = ‘(String describing the header)’</p></li>
<li><p>date_created = ‘dd-Mmm-yyyy hhmmss’</p></li>
<li><p>channel = ‘(String with channel name)’</p></li>
<li><p>channelType = ‘(String describing the channel type)’</p></li>
<li><p>sampleRate = (integer sampling rate)</p></li>
<li><p>blockLength = 1024</p></li>
<li><p>bufferSize = 1024</p></li>
<li><p>bitVolts = (floating point value of microvolts/bit for headstage channels, or volts/bit for ADC channels)</p></li>
</ul>
<p>For those not using MATLAB, each header entry is on a separate line with the following format:</p>
<ul class="simple">
<li><p>field names appear after a “header.” prefix</p></li>
<li><p>field names and values are separated by ” = “</p></li>
<li><p>the value of the field is in plain text, with intended strings enclosed in single quotes (as demonstrated above)</p></li>
<li><p>each line is terminated with a semicolon</p></li>
</ul>
</div>
<div class="section" id="continuous">
<h3>Continuous<a class="headerlink" href="#continuous" title="Permalink to this headline">¶</a></h3>
<p>Continuous data for each channel is stored in a separate <code class="code docutils literal notranslate"><span class="pre">.continuous</span></code> file, identified by the processor ID (e.g. <code class="code docutils literal notranslate"><span class="pre">100</span></code>) and channel name (e.g. <code class="code docutils literal notranslate"><span class="pre">CH0</span></code>). After the 1024-byte header, continuous data is organized into “records,” each containing 1024 samples.</p>
<a class="reference internal image-reference" href="../../_images/continuous3.png"><img alt="Open Ephys data continuous format" src="../../_images/continuous3.png" style="width: 300px;" /></a>
<p>Each record is 2070 bytes long, and is terminated by a 10-byte record marker (0 1 2 3 4 5 6 7 8 255).</p>
</div>
<div class="section" id="events">
<h3>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h3>
<p>Event from all processors is stored in <code class="code docutils literal notranslate"><span class="pre">all_channels.events</span></code>. Each “record” contains the data for an individual event stored according to the following scheme:</p>
<a class="reference internal image-reference" href="../../_images/events3.png"><img alt="Open Ephys data events format" src="../../_images/events3.png" style="width: 300px;" /></a>
</div>
<div class="section" id="spikes">
<h3>Spikes<a class="headerlink" href="#spikes" title="Permalink to this headline">¶</a></h3>
<p>Data from each electrode is saved in a separate file. The filename is derived from the electrode type (<code class="code docutils literal notranslate"><span class="pre">SE</span></code> = single electrode, <code class="code docutils literal notranslate"><span class="pre">ST</span></code> = stereotrode, <code class="code docutils literal notranslate"><span class="pre">TT</span></code> = tetrode), the source processor (e.g., <code class="code docutils literal notranslate"><span class="pre">p104.0</span></code>), and the electrode index (e.g., <code class="code docutils literal notranslate"><span class="pre">n0</span></code>, <code class="code docutils literal notranslate"><span class="pre">n1</span></code>, etc.).</p>
<p>Each record contains an individual spike event (saved for one or more channels), and is written in the following format:</p>
<a class="reference internal image-reference" href="../../_images/spikes3.png"><img alt="Open Ephys data spikes format" src="../../_images/spikes3.png" style="width: 300px;" /></a>
<p>Since the samples are saved as 16-bit unsigned integers, converting them to microvolts involves subtracting 32768, dividing by the gain, and multiplying by 1000.</p>
</div>
</div>
<div class="section" id="reading-data-in-python">
<h2>Reading data in Python<a class="headerlink" href="#reading-data-in-python" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>(recommended)</strong> Create a <code class="code docutils literal notranslate"><span class="pre">Session</span></code> object using the <a class="reference external" href="https://github.com/open-ephys/open-ephys-python-tools">open-ephys-python-tools</a> package. The data format will be automatically detected.</p></li>
<li><p>Create a <code class="code docutils literal notranslate"><span class="pre">File</span></code> object using the <a class="reference external" href="https://github.com/CINPLA/pyopenephys">pyopenephys</a> package.</p></li>
<li><p>Use the <code class="code docutils literal notranslate"><span class="pre">loadContinuous</span></code>, <code class="code docutils literal notranslate"><span class="pre">loadEvents</span></code>, or <code class="code docutils literal notranslate"><span class="pre">loadSpikes</span></code> methods from <code class="code docutils literal notranslate"><span class="pre">OpenEphys.py</span></code> in the <a class="reference external" href="https://github.com/open-ephys/analysis-tools/blob/master/Python3/OpenEphys.py">open-ephys/analysis-tools</a> repository.</p></li>
</ul>
</div>
<div class="section" id="reading-data-in-matlab">
<h2>Reading data in Matlab<a class="headerlink" href="#reading-data-in-matlab" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Use <code class="code docutils literal notranslate"><span class="pre">load_open_ephys_data.m</span></code> from the <a class="reference external" href="https://github.com/open-ephys/analysis-tools/blob/master/load_open_ephys_data.m">open-ephys/analysis-tools</a> repository.</p></li>
</ul>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="Binary-format.html" title="previous page">Binary format</a>
    <a class='right-next' id="next-link" href="NWB-format.html" title="next page">NWB format</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2021, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>